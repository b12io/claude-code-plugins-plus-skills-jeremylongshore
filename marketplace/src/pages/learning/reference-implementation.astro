---
import BaseLayout from '../../layouts/BaseLayout.astro';

const title = 'Reference Implementation | Learning Lab';
const description = 'Complete reference implementation summary of the test harness pattern with file breakdown and production deployment path.';
---

<BaseLayout title={title} description={description}>
  <div class="guide-page">
    <div class="guide-container">
      <div class="progress-bar">
        <div class="progress-fill" style="width: 87.5%"></div>
      </div>

      <div class="guide-header">
        <a href="/learning" class="back-link">&larr; Back to Learning Hub</a>
        <div class="guide-meta">
          <span>Guide 7 of 8</span>
          <span>10 min read</span>
        </div>
      </div>

      <article class="guide-content">
        <h1>Reference Implementation</h1>

        <div class="goal-box">
          <strong>Goal:</strong> Explore the complete built system and understand what's included
        </div>

        <section>
          <h2>What Was Built</h2>

          <h3>Learning Guides (4 Files)</h3>
          <ol>
            <li><strong>GUIDE-00-START-HERE.md</strong> (5 min) &mdash; Mental model, why this pattern works, quick terminology</li>
            <li><strong>GUIDE-01-PATTERN-EXPLAINED.md</strong> (15 min) &mdash; Deep dive on each component, orchestrator mechanics, phase agent contracts</li>
            <li><strong>GUIDE-02-BUILDING-YOUR-OWN.md</strong> (30 min) &mdash; Decision tree, step-by-step adaptation guide, real-world examples</li>
            <li><strong>GUIDE-03-DEBUGGING-TIPS.md</strong> (15 min) &mdash; 10 common issues and solutions, debugging tools, prevention checklist</li>
          </ol>

          <h3>Reference Implementation (16 Files)</h3>
          <p><strong>schema-optimization/</strong> &mdash; Complete 5-phase workflow:</p>
          <ul>
            <li><strong>SKILL.md</strong> &mdash; Orchestrator (300+ lines)</li>
            <li><strong>agents/</strong> &mdash; 5 phase agent contracts (initial analysis, field utilization, impact assessment, verification, recommendations)</li>
            <li><strong>references/</strong> &mdash; Step-by-step procedures for each phase</li>
            <li><strong>scripts/</strong> &mdash; Deterministic verification script</li>
            <li><strong>reports/</strong> &mdash; Session directories created at runtime</li>
          </ul>

          <h2>The Core Innovation: Phase 4 Verification</h2>
          <p><strong>Traditional approach:</strong> The LLM says "I found 23 unused fields" and you have no way to verify.</p>
          <p><strong>Test harness approach:</strong> Phase 2 (LLM) writes a report. Phase 4 runs an actual verification script, confirms 21 fields, revises 2 that were wrong, and discovers 3 more. The agent compares results and updates recommendations with a full audit trail.</p>
          <p><strong>Result:</strong> Empirically validated conclusions with evidence.</p>

          <h2>Key Features Delivered</h2>
          <ul>
            <li>Complete orchestrator &mdash; session creation, phase chaining, validation gates</li>
            <li>5 phase agents with strict JSON contracts</li>
            <li>Working verification script &mdash; deterministic, fast, produces JSON</li>
            <li>60+ pages of learning material</li>
            <li>Hands-on exercise with step-by-step walkthrough</li>
            <li>Visual documentation &mdash; maps, diagrams, flow charts</li>
          </ul>

          <h2>Design Principles</h2>
          <ol>
            <li><strong>Evidence-Based:</strong> Every phase writes a file</li>
            <li><strong>Machine-Checkable:</strong> JSON outputs validated programmatically</li>
            <li><strong>Fail-Fast:</strong> Orchestrator stops on first validation failure</li>
            <li><strong>Composable:</strong> Phases are independent, reusable</li>
            <li><strong>Debuggable:</strong> Clear failure points, structured outputs</li>
            <li><strong>Repeatable:</strong> Deterministic scripts, same inputs = same outputs</li>
            <li><strong>Auditable:</strong> Session directories preserve complete audit trail</li>
          </ol>

          <h2>Production Deployment Path</h2>
          <p>When you're ready to move a workflow out of the lab:</p>
          <ol>
            <li>Complete all phases &mdash; all reference docs written</li>
            <li>Test with real data &mdash; run on actual datasets</li>
            <li>Add error handling &mdash; graceful failures, meaningful errors</li>
            <li>Add logging &mdash; trace execution for debugging</li>
            <li>Move to production &mdash; copy from <code>workspace/lab/</code> to <code>.claude/skills/</code></li>
            <li>Document for ops &mdash; how to run, monitor, debug</li>
            <li>Monitor and iterate &mdash; track success rate, refine</li>
          </ol>

          <h2>Full Summary on GitHub</h2>
          <p>The complete system summary with file counts, testing procedures, and FAQ:</p>
          <div class="source-link-box">
            <a href="https://github.com/jeremylongshore/claude-code-plugins/blob/main/workspace/lab/BUILT-SYSTEM-SUMMARY.md" class="github-link" target="_blank" rel="noopener noreferrer">
              View Full Summary on GitHub &rarr;
            </a>
          </div>
        </section>
      </article>

      <nav class="guide-nav">
        <a href="/learning/visual-map">&larr; Visual Map</a>
        <a href="/learning/overview">Overview &rarr;</a>
      </nav>
    </div>
  </div>
</BaseLayout>

<style>
.guide-page{min-height:100vh;background:var(--brand-light)}.guide-container{max-width:900px;margin:0 auto;padding:2rem 1rem}.progress-bar{width:100%;height:4px;background:var(--brand-light-gray);border-radius:2px;margin-bottom:2rem}.progress-fill{height:100%;background:linear-gradient(90deg,var(--brand-orange),var(--brand-orange))}.guide-header{margin-bottom:2rem}.back-link{color:var(--brand-mid-gray);text-decoration:none;font-size:.875rem}.guide-meta{display:flex;gap:1rem;font-size:.875rem;color:var(--brand-mid-gray);margin-top:.5rem}.guide-content{background:var(--brand-light-gray);border:1px solid var(--brand-light-gray);border-radius:.5rem;padding:3rem;margin-bottom:2rem}.guide-content h1{font-size:2.5rem;color:var(--brand-dark);margin:0 0 2rem}.guide-content h2{font-size:1.75rem;color:var(--brand-dark);margin:2.5rem 0 1rem;border-bottom:2px solid var(--brand-light-gray);padding-bottom:.5rem}.guide-content h3{font-size:1.25rem;color:var(--brand-dark);margin:1.5rem 0 .75rem}.guide-content p{color:var(--brand-mid-gray);line-height:1.7;margin:1rem 0}.guide-content ul,.guide-content ol{color:var(--brand-mid-gray);padding-left:2rem}.guide-content li{margin:.5rem 0}.guide-content code{background:rgba(217,119,87,.1);padding:.15rem .4rem;border-radius:4px;font-size:.9em;color:var(--brand-orange-dark)}.goal-box{background:linear-gradient(135deg,rgba(217,119,87,.2),rgba(217,119,87,.2));border-left:4px solid var(--brand-orange);padding:1rem 1.5rem;margin:2rem 0;border-radius:.375rem;color:var(--brand-dark)}.source-link-box{text-align:center;margin:2rem 0}.github-link{display:inline-block;padding:1rem 2rem;background:var(--brand-orange);color:white;text-decoration:none;border-radius:.375rem;font-weight:600}.github-link:hover{background:var(--brand-orange-dark)}.guide-nav{display:flex;justify-content:space-between;margin-top:2rem}.guide-nav a{padding:1rem 1.5rem;background:var(--brand-light-gray);border:1px solid var(--brand-light-gray);border-radius:.5rem;color:var(--brand-dark);text-decoration:none}.guide-nav a:hover{border-color:var(--brand-orange)}
</style>
